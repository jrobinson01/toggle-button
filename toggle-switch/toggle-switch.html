<link rel="import" href="/bower_components/polymer/polymer-element.html">

<dom-module id="toggle-switch">
  <template>
    <style>
      :host{
        display:block;
      }
    </style>
      <input type="checkbox" name="onoffswitch" on-click="toggleChecked" id="myonoffswitch" checked="[[checked]]" disabled="[[disabled]]"></input>
      <label class="onoffswitch-label" for="myonoffswitch">[[label]]</label>
  </template>
  <script>
    class ToggleSwitch extends Polymer.Element {
      static get is() { return 'toggle-switch'; };
      static get config(){
        return {
          properties:{
            checked: {
              type:Boolean,
              value:false
            },
            disabled: {
              type:Boolean,
              value:false
            },
            label:{
              type:String
            }
          }
        };
      };

      toggleChecked(event) {
        if(!this.disabled) {
          this.checked = !this.checked;
          this.disabled = true;
          this.dispatchEvent(new CustomEvent('toggle', {detail:{checked:this.checked}}));
        }
      };

    };

    customElements.define(ToggleSwitch.is, ToggleSwitch);
  </script>
</dom-module>
